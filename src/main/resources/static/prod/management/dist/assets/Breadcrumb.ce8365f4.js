var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,n=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,l=(e,l)=>{for(var o in l||(l={}))t.call(l,o)&&n(e,o,l[o]);if(r)for(var o of r(l))a.call(l,o)&&n(e,o,l[o]);return e};import{B as o}from"./index.086be200.js";import{e as u,aM as i,aI as s,p as c,aT as m,g as d,j as v,a$ as h,aV as p,bk as f,aR as b,e9 as y,bo as g,cD as C,aw as k,r as x,o as w,m as j,n as O,C as B,aN as I,E as P,D as M}from"./index.e5737575.js";import"./vendor.afa0338c.js";var R=u({name:"LayoutBreadcrumb",components:{Icon:i,[o.name]:o},props:{theme:s.oneOf(["dark","light"])},setup(){const e=c([]),{currentRoute:t}=m(),{prefixCls:r}=d("layout-breadcrumb"),{getShowBreadCrumbIcon:a}=g(),{t:n}=v();function o(e,t){const r=[];return e.forEach((e=>{var a,n;t.includes(e.path)&&r.push(l(l({},e),{name:(null==(a=e.meta)?void 0:a.title)||e.name})),(null==(n=e.children)?void 0:n.length)&&r.push(...o(e.children,t))})),r}return h((()=>{return r=this,a=null,n=function*(){var r,a,n;if(t.value.name===p)return;const u=yield f(),i=t.value.matched,s=null==i?void 0:i[i.length-1];let c=t.value.path;s&&(null==(r=null==s?void 0:s.meta)?void 0:r.currentActiveMenu)&&(c=s.meta.currentActiveMenu);const m=b(u,c),d=o(u.filter((e=>e.path===m[0])),m);if(!d||0===d.length)return;const v=y(d,(e=>{const{meta:t,name:r}=e;if(!t)return!!r;const{title:a,hideBreadcrumb:n,hideMenu:l}=t;return!(!a||n||l)})).filter((e=>{var t,r;return!(null==(t=e.meta)?void 0:t.hideBreadcrumb)||!(null==(r=e.meta)?void 0:r.hideMenu)}));(null==(a=t.value.meta)?void 0:a.currentActiveMenu)&&v.push(l(l({},t.value),{name:(null==(n=t.value.meta)?void 0:n.title)||t.value.name})),e.value=v},new Promise(((e,t)=>{var l=e=>{try{u(n.next(e))}catch(r){t(r)}},o=e=>{try{u(n.throw(e))}catch(r){t(r)}},u=t=>t.done?e(t.value):Promise.resolve(t.value).then(l,o);u((n=n.apply(r,a)).next())}));var r,a,n})),{routes:e,t:n,prefixCls:r,getShowBreadCrumbIcon:a,handleClick:function(e,t,r){null==r||r.preventDefault();const{children:a,redirect:n,meta:l}=e;if((null==a?void 0:a.length)&&!n)return void(null==r||r.stopPropagation());if(null==l?void 0:l.carryParam)return;const o=k();if(n&&C(n))o(n);else{let e="";if(1===t.length)e=t[0];else{e=`${t.slice(1).pop()||""}`}e=/^\//.test(e)?e:`/${e}`,o(e)}},hasRedirect:function(e,t){return e.indexOf(t)!==e.length-1}}}});const $={key:1};R.render=function(e,t,r,a,n,l){const o=x("Icon"),u=x("router-link"),i=x("a-breadcrumb");return w(),j("div",{class:[e.prefixCls,`${e.prefixCls}--${e.theme}`]},[O(i,{routes:e.routes},{itemRender:B((({route:t,routes:r,paths:a})=>[e.getShowBreadCrumbIcon&&t.meta.icon?(w(),j(o,{key:0,icon:t.meta.icon},null,8,["icon"])):I("",!0),e.hasRedirect(r,t)?(w(),j(u,{key:2,to:"",onClick:r=>e.handleClick(t,a,r)},{default:B((()=>[M(P(e.t(t.name||t.meta.title)),1)])),_:2},1032,["onClick"])):(w(),j("span",$,P(e.t(t.name||t.meta.title)),1))])),_:1},8,["routes"])],2)};export default R;
