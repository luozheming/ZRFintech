import{_ as e,u as t}from"./useTable.9db56aae.js";import"./useForm.e543e3b5.js";import{e as a,dB as s,dC as d,dD as o,dE as i,dF as r,y as n,r as c,o as l,m as u,n as m,C as p,D as f,E as b}from"./index.e5737575.js";import{T as j}from"./index.a370f084.js";import"./get.d713ad9e.js";import"./index.0e4b6b68.js";import"./scrollTo.c1e0f75f.js";import"./onMountedOrActivated.9f5fb634.js";import"./index.ebc0e24c.js";import"./UpOutlined.7632f672.js";import"./index.be4ab8c9.js";import"./useWindowSizeFn.cd822dd7.js";import"./useModal.138967e3.js";import"./FullscreenOutlined.b2c49886.js";import"./index.8d8da54b.js";import"./useSortable.4ac0939c.js";import"./RedoOutlined.87ae5366.js";import"./_baseIteratee.4a5bce24.js";import"./index.dba09550.js";import"./index.8cefef3f.js";import"./responsiveObserve.c545f1cc.js";import"./vendor.afa0338c.js";import"./index.57a6dbfc.js";import"./CountdownInput.9c3f7a10.js";import"./download.c317d8b9.js";var x=a({components:{BasicTable:e,[j.name]:j},setup(){const{createMessage:e}=n(),{VITE_GLOB_API_URL:a}=s(),[c,{reload:l}]=t({title:"积分兑换列表",api:d,columns:[{title:"id",dataIndex:"id",width:100,defaultHidden:!0},{title:"商品名称",dataIndex:"goodsName",width:100},{title:"商品描述",dataIndex:"goodsDesc",width:150},{title:"价值积分数",width:70,dataIndex:"integral"},{title:"收货人姓名",width:80,dataIndex:"receiverName"},{title:"地理位置",width:120,dataIndex:"location"},{title:"详细地址",width:150,dataIndex:"detailAddress"},{title:"处理状态",width:50,dataIndex:"dealStatus",slots:{customRender:"status"}}],showIndexColumn:!0,bordered:!1,size:"default",actionColumn:{width:100,title:"订单处理",dataIndex:"action",slots:{customRender:"action"}}});return{registerTable:c,changeStatus:t=>{return s=this,d=null,n=function*(){const s=yield o({url:a+i,method:"post",data:{id:t,dealStatus:1},transformRequest:[function(e){return e=r.stringify(e)}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{code:d,message:n}=s.data;if(200!==d)return e.error(n);e.success("处理成功！"),l()},new Promise(((e,t)=>{var a=e=>{try{i(n.next(e))}catch(a){t(a)}},o=e=>{try{i(n.throw(e))}catch(a){t(a)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,o);i((n=n.apply(s,d)).next())}));var s,d,n}}}});const h={class:"p-4"},w=f("处理"),g={key:1};x.render=function(e,t,a,s,d,o){const i=c("a-tag"),r=c("a-button"),n=c("BasicTable");return l(),u("div",h,[m(n,{showTableSetting:"",onRegister:e.registerTable},{status:p((({record:e})=>[m(i,{color:0==e.dealStatus?"default":"success"},{default:p((()=>[f(b(0==e.dealStatus?"未处理":"已处理"),1)])),_:2},1032,["color"])])),action:p((({record:t})=>[0==t.dealStatus?(l(),u(r,{key:0,type:"primary",shape:"round",onClick:a=>e.changeStatus(t.id)},{default:p((()=>[w])),_:2},1032,["onClick"])):(l(),u("span",g,"-"))])),_:1},8,["onRegister"])])};export default x;
