import{e,dz as t,dW as a,dB as s,dX as d,dY as o,z as i,r,o as n,m as l,n as c,D as u,E as m,F as p}from"./index.e3ab3d33.js";import{_ as f,u as j}from"./useTable.60891a80.js";import"./useForm.4c49c850.js";import{T as x}from"./index.40de8c80.js";import"./vendor.afa0338c.js";import"./index.002624d4.js";import"./index.69962a4d.js";import"./warning.0b2da52a.js";import"./index.2561698d.js";import"./get.92310d4b.js";import"./useWindowSizeFn.24a861a8.js";import"./useModal.ee72b48f.js";import"./FullscreenOutlined.b1e97c8e.js";import"./onMountedOrActivated.b2e3d7a3.js";import"./index.5a1e8da2.js";import"./useSortable.fc3e13de.js";import"./RedoOutlined.2b7b81e2.js";import"./_baseIteratee.3a82d812.js";import"./scrollTo.c1e0f75f.js";import"./transButton.eec12e03.js";import"./index.c9e49986.js";import"./index.ec624549.js";import"./responsiveObserve.c545f1cc.js";import"./CountdownInput.4bcf5023.js";import"./download.00911bd8.js";import"./index.dfffa629.js";var b=e({components:{BasicTable:f,[x.name]:x},setup(){const{createMessage:e}=i(),{VITE_GLOB_API_URL:r}=t(),[n,{reload:l}]=j({title:"积分兑换列表",api:a,columns:[{title:"id",dataIndex:"id",width:100,defaultHidden:!0},{title:"商品名称",dataIndex:"goodsName",width:100},{title:"商品描述",dataIndex:"goodsDesc",width:150},{title:"价值积分数",width:70,dataIndex:"integral"},{title:"收货人姓名",width:80,dataIndex:"receiverName"},{title:"地理位置",width:120,dataIndex:"location"},{title:"详细地址",width:150,dataIndex:"detailAddress"},{title:"处理状态",width:50,dataIndex:"dealStatus",slots:{customRender:"status"}}],showIndexColumn:!0,bordered:!1,size:"default",actionColumn:{width:100,title:"订单处理",dataIndex:"action",slots:{customRender:"action"}}});return{registerTable:n,changeStatus:t=>{return a=this,i=null,n=function*(){const a=yield s({url:r+d,method:"post",data:{id:t,dealStatus:1},transformRequest:[function(e){return e=o.stringify(e)}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{code:i,message:n}=a.data;if(200!==i)return e.error(n);e.success("处理成功！"),l()},new Promise(((e,t)=>{var s=e=>{try{o(n.next(e))}catch(a){t(a)}},d=e=>{try{o(n.throw(e))}catch(a){t(a)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(s,d);o((n=n.apply(a,i)).next())}));var a,i,n}}}});const h={class:"p-4"},w=m("处理"),g={key:1};b.render=function(e,t,a,s,d,o){const i=r("a-tag"),f=r("a-button"),j=r("BasicTable");return n(),l("div",h,[c(j,{showTableSetting:"",onRegister:e.registerTable},{status:u((({record:e})=>[c(i,{color:0==e.dealStatus?"default":"success"},{default:u((()=>[m(p(0==e.dealStatus?"未处理":"已处理"),1)])),_:2},1032,["color"])])),action:u((({record:t})=>[0==t.dealStatus?(n(),l(f,{key:0,type:"primary",shape:"round",onClick:a=>e.changeStatus(t.id)},{default:u((()=>[w])),_:2},1032,["onClick"])):(n(),l("span",g,"-"))])),_:1},8,["onRegister"])])};export default b;
