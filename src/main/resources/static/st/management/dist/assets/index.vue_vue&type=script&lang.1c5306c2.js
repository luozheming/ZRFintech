var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,r=(e,r)=>{for(var a in r||(r={}))t.call(r,a)&&l(e,a,r[a]);if(n)for(var a of n(r))o.call(r,a)&&l(e,a,r[a]);return e};import{n as a,a3 as s,Y as c,a4 as i,dU as u,dV as d,G as p,a7 as f,e as m,a8 as b,S as v,T as y,q as h,ag as x,ah as g,bX as C,a6 as w,af as O,aD as j,g as S,df as P,k,w as D,aS as I,a0 as z,ar as E,cI as N,dy as M}from"./index.e3ab3d33.js";import{r as V,a as W}from"./responsiveObserve.c545f1cc.js";import{g as A}from"./get.92310d4b.js";function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){return null!=e}var B=function(e){var t,n=e.itemPrefixCls,o=e.component,l=e.span,r=e.bordered,s=e.label,c=e.content,i=e.colon,u=o;return r?a(u,{class:[(t={},L(t,"".concat(n,"-item-label"),$(s)),L(t,"".concat(n,"-item-content"),$(c)),t)],colSpan:l},{default:function(){return[$(s)?s:c]}}):a(u,{class:["".concat(n,"-item")],colSpan:l},{default:function(){return[s&&a("span",{class:["".concat(n,"-item-label"),L({},"".concat(n,"-item-no-colon"),!i)]},[s]),c&&a("span",{class:"".concat(n,"-item-content")},[c])]}})},q=function(e){var t=function(e,t,n){var o=t.colon,l=t.prefixCls,r=t.bordered,p=n.component,f=n.type,m=n.showLabel,b=n.showContent;return e.map((function(e,t){var n=s(e),v=n.prefixCls,y=void 0===v?l:v,h=n.span,x=void 0===h?1:h,g=c(e,"label"),C=i(e),w=u(e),O=d(e),j=e.key;return"string"==typeof p?a(B,{key:"".concat(f,"-").concat(j||t),class:w,style:O,span:x,colon:o,component:p,itemPrefixCls:y,bordered:r,label:m?g:null,content:b?C:null},null):[a(B,{key:"label-".concat(j||t),class:w,style:O,span:1,colon:o,component:p[0],itemPrefixCls:y,bordered:r,label:g},null),a(B,{key:"content-".concat(j||t),class:w,style:O,span:2*x-1,component:p[1],itemPrefixCls:y,bordered:r,content:C},null)]}))},n=e.prefixCls,o=e.vertical,l=e.row,r=e.index,f=e.bordered;return o?a(p,null,[a("tr",{key:"label-".concat(r),class:"".concat(n,"-row")},[t(l,e,{component:"th",type:"label",showLabel:!0})]),a("tr",{key:"content-".concat(r),class:"".concat(n,"-row")},[t(l,e,{component:"td",type:"content",showContent:!0})])]):a("tr",{key:r,class:"".concat(n,"-row")},[t(l,e,{component:f?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0})])};function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}f.string,f.any,f.number;var U=m({name:"ADescriptionsItem",props:{prefixCls:f.string,label:f.VNodeChild,span:f.number.def(1)},render:function(){return null}}),X={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Y(e,t,n){var o=e;return(void 0===t||t>n)&&(o=w(e,{span:n}),O(void 0===t,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),o}var _={prefixCls:f.string,bordered:f.looseBool,size:f.oneOf(b("default","middle","small")).def("default"),title:f.VNodeChild,extra:f.VNodeChild,column:{type:[Number,Object],default:function(){return X}},layout:f.oneOf(b("horizontal","vertical")),colon:f.looseBool},F=m({name:"ADescriptions",Item:U,setup:function(e,t){var n,o=t.slots,l=v("configProvider",y).getPrefixCls,r=h({});return x((function(){n=V.subscribe((function(t){"object"===T(e.column)&&(r.value=t)}))})),g((function(){V.unsubscribe(n)})),function(){var t,n,s,c,i=e.prefixCls,u=e.column,d=e.size,p=e.bordered,f=void 0!==p&&p,m=e.layout,b=void 0===m?"horizontal":m,v=e.colon,y=void 0===v||v,h=e.title,x=void 0===h?null===(n=o.title)||void 0===n?void 0:n.call(o):h,g=e.extra,w=void 0===g?null===(s=o.extra)||void 0===s?void 0:s.call(o):g,O=l("descriptions",i),j=function(e,t){if("number"==typeof e)return e;if("object"===T(e))for(var n=0;n<W.length;n++){var o=W[n];if(t[o]&&void 0!==e[o])return e[o]||X[o]}return 3}(u,r.value),S=function(e,t){var n=C(e),o=[],l=[],r=t;return n.forEach((function(e,a){var s,c=null===(s=e.props)||void 0===s?void 0:s.span,i=c||1;if(a===n.length-1)return l.push(Y(e,c,r)),void o.push(l);i<r?(r-=i,l.push(e)):(l.push(Y(e,i,r)),o.push(l),r=t,l=[])})),o}(null===(c=o.default)||void 0===c?void 0:c.call(o),j);return a("div",{class:[O,(t={},G(t,"".concat(O,"-").concat(d),"default"!==d),G(t,"".concat(O,"-bordered"),!!f),t)]},[(x||w)&&a("div",{class:"".concat(O,"-header")},[a("div",{class:"".concat(O,"-title")},[x]),a("div",{class:"".concat(O,"-extra")},[w])]),a("div",{class:"".concat(O,"-view")},[a("table",null,[a("tbody",null,[S.map((function(e,t){return a(q,{key:t,index:t,colon:y,prefixCls:O,vertical:"vertical"===b,bordered:f,row:e},null)}))])])])])}}});F.props=_,F.install=function(e){return e.component(F.name,F),e.component(F.Item.name,F.Item),e};var H=m({name:"Description",props:{useCollapse:j.bool.def(!0),title:j.string.def(""),size:j.oneOf(["small","default","middle",void 0]).def("small"),bordered:j.bool.def(!0),column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:j.object},emits:["register"],setup(e,{slots:t,emit:n}){const o=h(null),{prefixCls:l}=S("description"),s=P(),c=k((()=>r(r({},e),D(o)))),i=k((()=>r(r({},D(c)),{title:void 0}))),u=k((()=>!!D(c).title)),d=k((()=>r({canExpand:!1},D(i).collapseOptions))),p=k((()=>r(r({},D(s)),D(i))));function f({label:e,labelMinWidth:t,labelStyle:n}){if(!n&&!t)return e;const o=r(r({},n),{minWidth:`${t}px `});return a("div",{style:o},[e])}const m=()=>{let e;return a(F,E({class:`${l}`},D(p)),"function"==typeof(t=e=function(){const{schema:e,data:t}=D(i);return D(e).map((e=>{const{render:n,field:o,span:l,show:r,contentMinWidth:s}=e;if(r&&I(r)&&!r(t))return null;const c=()=>{var e;const t=null==(e=D(i))?void 0:e.data;if(!t)return null;const l=A(t,o);return I(n)?n(l,t):null!=l?l:""},u=s;return a(F.Item,{label:f(e),key:o,span:l},{default:()=>s?a("div",{style:{minWidth:`${u}px`}},[c()]):c()})})).filter((e=>!!e))}())||"[object Object]"===Object.prototype.toString.call(t)&&!z(t)?e:{default:()=>[e]});var t};return n("register",{setDescProps:function(e){o.value=r(r({},D(o)),e)}}),()=>D(u)?(()=>{const n=e.useCollapse?m():a("div",null,[m()]);if(!e.useCollapse)return n;const{canExpand:o,helpMessage:l}=D(d),{title:r}=D(c);return a(M,{title:r,canExpan:o,helpMessage:l},{default:()=>n,action:()=>N(t,"action")})})():m()}});export{H as _};
