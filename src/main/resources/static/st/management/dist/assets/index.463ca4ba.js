import{e,dP as o,dQ as t,z as s,r as i,o as r,m as a,n,D as d,E as c}from"./index.e3ab3d33.js";import{_ as l,u as p}from"./useTable.60891a80.js";import{k as m}from"./useForm.4c49c850.js";import{b as u}from"./useModal.ee72b48f.js";import{_ as j,g as b}from"./Modal.33dda0d3.js";import"./vendor.afa0338c.js";import"./index.002624d4.js";import"./index.69962a4d.js";import"./warning.0b2da52a.js";import"./index.2561698d.js";import"./get.92310d4b.js";import"./useWindowSizeFn.24a861a8.js";import"./onMountedOrActivated.b2e3d7a3.js";import"./index.5a1e8da2.js";import"./useSortable.fc3e13de.js";import"./RedoOutlined.2b7b81e2.js";import"./_baseIteratee.3a82d812.js";import"./FullscreenOutlined.b1e97c8e.js";import"./scrollTo.c1e0f75f.js";import"./transButton.eec12e03.js";import"./index.c9e49986.js";import"./index.ec624549.js";import"./responsiveObserve.c545f1cc.js";import"./index.40de8c80.js";import"./CountdownInput.4bcf5023.js";import"./download.00911bd8.js";import"./index.dfffa629.js";import"./index.vue_vue&type=script&lang.1c5306c2.js";var f=e({components:{BasicTable:l,Modal:j,TableAction:m},setup(){const{createMessage:e}=s(),[i,{openModal:r}]=u(),[a,{reload:n}]=p({title:"评论列表",api:o,columns:b(),showIndexColumn:!1,bordered:!1,actionColumn:{width:100,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}});return{registerTable:a,viewDetails:(e,o)=>{r(!0,{record:e,status:o})},registerModal:i,openModal:r,handleSuccess:function(){n()},handleDelete:o=>{return s=this,i=null,r=function*(){200===(yield t({id:o.id})).code&&(e.success("删除成功！"),n())},new Promise(((e,o)=>{var t=e=>{try{n(r.next(e))}catch(t){o(t)}},a=e=>{try{n(r.throw(e))}catch(t){o(t)}},n=o=>o.done?e(o.value):Promise.resolve(o.value).then(t,a);n((r=r.apply(s,i)).next())}));var s,i,r}}}});const v={class:"p-4"},x=c("查看详情"),g=c("查看详情");f.render=function(e,o,t,s,c,l){const p=i("a-button"),m=i("TableAction"),u=i("BasicTable"),j=i("Modal");return r(),a("div",v,[n(u,{showTableSetting:"",onRegister:e.registerTable},{content:d((({record:o})=>[n(p,{type:"primary",shape:"round",onClick:t=>e.viewDetails(o,0)},{default:d((()=>[x])),_:2},1032,["onClick"])])),feedback:d((({record:o})=>[n(p,{type:"primary",shape:"round",onClick:t=>e.viewDetails(o,1)},{default:d((()=>[g])),_:2},1032,["onClick"])])),action:d((({record:o})=>[n(m,{actions:[{label:"删除",popConfirm:{title:"确认删除",confirm:e.handleDelete.bind(null,o)}}]},null,8,["actions"])])),_:1},8,["onRegister"]),n(j,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])};export default f;
