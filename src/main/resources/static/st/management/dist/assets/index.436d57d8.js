import{e,dL as t,dM as s,z as o,r as a,o as r,m as n,n as i,D as d,E as l}from"./index.e3ab3d33.js";import{_ as c,u}from"./useTable.60891a80.js";import{j as m,k as p}from"./useForm.4c49c850.js";import{b}from"./useModal.ee72b48f.js";import{_ as j,g as f}from"./Modal.4c93c9c6.js";import"./vendor.afa0338c.js";import"./index.002624d4.js";import"./index.69962a4d.js";import"./warning.0b2da52a.js";import"./index.2561698d.js";import"./get.92310d4b.js";import"./useWindowSizeFn.24a861a8.js";import"./onMountedOrActivated.b2e3d7a3.js";import"./index.5a1e8da2.js";import"./useSortable.fc3e13de.js";import"./RedoOutlined.2b7b81e2.js";import"./_baseIteratee.3a82d812.js";import"./FullscreenOutlined.b1e97c8e.js";import"./scrollTo.c1e0f75f.js";import"./transButton.eec12e03.js";import"./index.c9e49986.js";import"./index.ec624549.js";import"./responsiveObserve.c545f1cc.js";import"./index.40de8c80.js";import"./CountdownInput.4bcf5023.js";import"./download.00911bd8.js";import"./index.dfffa629.js";var h=e({components:{BasicTable:c,[m.name]:m,Modal:j,TableAction:p},setup(){const{createMessage:e}=o(),[a,{openModal:r}]=b(),[n,{reload:i}]=u({title:"轮播图列表",api:t,columns:f(),showIndexColumn:!0,bordered:!1,size:"default",actionColumn:{width:160,title:"操作",dataIndex:"action",slots:{customRender:"action"}}});return{registerTable:n,handleCreate:()=>{r(!0,{isUpdate:!1})},openModal:r,registerModal:a,handleSuccess:function(){i()},handleEdit:e=>{r(!0,{record:e,isUpdate:!0})},handleStatus:t=>{return o=this,a=null,r=function*(){const o=yield s({id:t.id,status:0===t.status?1:0}),{code:a,message:r}=o;if(200!==a)return e.error(r);e.success(0===t.status?"禁用成功":"启用成功"),i()},new Promise(((e,t)=>{var s=e=>{try{i(r.next(e))}catch(s){t(s)}},n=e=>{try{i(r.throw(e))}catch(s){t(s)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(s,n);i((r=r.apply(o,a)).next())}));var o,a,r}}}});const g={class:"p-4"},x=l(" 新增banner");h.render=function(e,t,s,o,l,c){const u=a("a-button"),m=a("a-image"),p=a("TableAction"),b=a("BasicTable"),j=a("Modal");return r(),n("div",g,[i(b,{showTableSetting:"",onRegister:e.registerTable},{toolbar:d((()=>[i(u,{type:"primary",onClick:e.handleCreate},{default:d((()=>[x])),_:1},8,["onClick"])])),photo:d((({record:e})=>[i(m,{width:70,src:`data:image/png;base64,${e.photo}`},null,8,["src"])])),action:d((({record:t})=>[i(p,{actions:[{label:"编辑",onClick:e.handleEdit.bind(null,t)},{label:0==t.status?"禁用":"启用",popConfirm:{title:"是否确认"+(0==t.status?"禁用":"启用"),confirm:e.handleStatus.bind(null,t)}}]},null,8,["actions"])])),_:1},8,["onRegister"]),i(j,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])};export default h;
